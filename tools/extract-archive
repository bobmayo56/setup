#!/usr/bin/env bash

# extract-archive

# part of a pair: make-archive and extract-archive

if [ $# -ne 1 ]; then
    echo "Usage: extract-archive <archive.7z>"
    echo "Example: extract-archive docs-2026.7z"
    exit 1
fi

ARCHIVE=$1

if [ ! -f "$ARCHIVE" ]; then
    echo "Error: '$ARCHIVE' not found"
    exit 1
fi

SEVENZIP_PROGRAM="${SEVENZIP_PROGRAM:-7zz}"

read -r -s -p "Password: " PASSWORD
echo

"$SEVENZIP_PROGRAM" x -p"$PASSWORD" "$ARCHIVE" && echo "Extracted: $ARCHIVE"

